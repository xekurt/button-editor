<div class="space-x-sm flex items-center">
  <!-- Sun icon (left of switch) -->
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="h-5 w-5 text-yellow-400 transition-opacity duration-200"
    [ngClass]="{ 'opacity-100': (themeService.theme$ | async) !== 'dark', 'opacity-50': (themeService.theme$ | async) === 'dark' }"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <circle cx="12" cy="12" r="5" stroke="currentColor" stroke-width="2" fill="none" />
    <path
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"
    />
  </svg>
  <div
    class="relative inline-flex h-6 w-12 cursor-pointer items-center rounded-full bg-neutral-200 transition-colors duration-200 ease-in-out"
    role="switch"
    [attr.aria-checked]="(themeService.theme$ | async) === 'dark'"
    aria-label="Toggle theme"
    tabindex="0"
    (click)="toggleTheme()"
    (keydown)="handleKeydown($event)"
  >
    <span
      class="bg-primary absolute h-5 w-5 transform rounded-full transition-transform duration-200 ease-in-out"
      [ngClass]="{
        'translate-x-6': (themeService.theme$ | async) === 'dark',
        'translate-x-1': (themeService.theme$ | async) !== 'dark',
      }"
    ></span>
  </div>
  <!-- Moon icon (right of switch) -->
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="h-5 w-5 text-blue-400 transition-opacity duration-200"
    [ngClass]="{ 'opacity-100': (themeService.theme$ | async) === 'dark', 'opacity-50': (themeService.theme$ | async) !== 'dark' }"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"
    />
  </svg>
</div>
